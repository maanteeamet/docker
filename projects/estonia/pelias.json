{
  "logger": {
    "level": "debug",
    "timestamp": false
  },
  "esclient": {
    "apiVersion": "7.5",
    "hosts": [
      { "host": "elasticsearch" }
    ]
  },
  "elasticsearch": {
    "settings": {
      "index": {
        "refresh_interval": "10s",
        "number_of_replicas": "0",
        "number_of_shards": "1"
      }
    }
  },
  "api": {
    "textAnalyzer": "libpostal",
    "services": {
      "pip": { "url": "http://pip:4200" },
      "libpostal": { "url": "http://libpostal:4400" },
      "placeholder": { "url": "http://placeholder:4100" },
      "interpolation": { "url": "http://interpolation:4300" }
    },
    "defaultParameters": {
      "focus.point.lat": 58.671392,
      "focus.point.lon": 25.54665
    },
    "customBoosts": {
      "layer": {
        "address": 4
      },
      "source": {
        "gtfsestonia": 3,
        "openaddresses": 5,
        "openstreetmap": 0
      }
    }
  },
  "imports": {
    "adminLookup": {
      "enabled": false
    },
    "geonames": {
      "datapath": "/data/geonames",
      "countryCode": "EE"
    },
    "openstreetmap": {
      "download": [
        { "sourceURL": "http://download.geofabrik.de/europe/estonia-latest.osm.pbf" }
      ],
      "leveldbpath": "/tmp",
      "datapath": "/data/openstreetmap",
      "import": [{
        "filename": "estonia-latest.osm.pbf"
      }]
    },
    "openstreetmap-venues": {
      "download": [
        { "sourceURL": "https://overpass-api.de/api/interpreter?data=%5Bout%3Ajson%5D%5Btimeout%3A25%5D%3B%0Aarea%283600079510%29-%3E.searchArea%3B%0A%28%0Anode%20%5Bamenity~%22%5E%28bar%7Cbiergarten%7Ccafe%7Cfast_food%7Cfood_court%7Cice_cream%7Cpub%7Crestaurant%7Ccollege%7Cdriving_school%7Ckindergarten%7Clanguage_school%7Cschol%7Cuniversity%7Ccharging_terminal%7Cfuel%7Cmotorcycle_parking%7Cparking%7Cparking_entrance%7Cparking_space%7Ctaxi%7Cbank%7Cclinic%7Cdentist%7Cdoctors%7Chospital%7Cnursing_home%7Cpharmacy%7Cveterinary%7Carts_centre%7Ccinema%7Ccommunity_centre%7Cconference_centre%7Cevents_venue%7Cnightclub%7Cplanetarium%7Csocial_centre%7Ctheatre%7Ccourthouse%7Cembassy%7Cfire_station%7Cpolice%7Cpost_depot%7Cpost_office%7Cprison%7Ctownhall%7Cgym%29%22%5D%0A%28area.searchArea%29%3B%0A%29%3B%0Aout%20body%3B" },
        { "sourceURL": "https://overpass-api.de/api/interpreter?data=%5Bout%3Ajson%5D%5Btimeout%3A25%5D%3B%0Aarea%283600079510%29-%3E.searchArea%3B%0A%28%0Anode%5Bshop~%22supermarket%22%5D%28area.searchArea%29%3B%0Anode%5Btourism%5D%28area.searchArea%29%3B%0Anode%5Bhistoric%5D%28area.searchArea%29%3B%0A%29%3B%0Aout%20body%3B"}
      ],
      "leveldbpath": "/tmp",
      "datapath": "/data/openstreetmap"
    },
    "openaddresses": {
      "datapath": "/data/openaddresses",
      "dataHost": "http://address.dev.peatus.ee"
    },
    "openaddresses-venues": {
      "datapath": "/data/openaddresses-venues",
      "dataHost": "https://xgis.maaamet.ee/adsavalik/valjav6te/"
    },
    "polyline": {
      "datapath": "/data/polylines",
      "files": [ "extract.0sv" ]
    },
    "whosonfirst": {
      "datapath": "/data/whosonfirst",
      "importPostalcodes": true,
      "importPlace": [ "85633135" ]
    },
    "transit": {
      "datapath": "/data/transit",
      "feeds": [
        {
          "layerId": "stops",
          "url": "http://peatus.ee/gtfs/gtfs.zip",
          "filename": "stops.txt",
          "agencyId": "Eesti",
          "agencyName": "Eesti",
          "layerName": "Stop"
        }
      ]
    }
  }
}
